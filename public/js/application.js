var Soda=function(){var t=!1,n={deleteButtons:"[data-delete-button]",formSubmitters:"[data-submits]",sidebarToggle:"[data-sidebar-toggle]",sidebar:".sidebar"},a=function(t){},e=function(){return $('meta[name="csrf-token"]').attr("content")},i=function(t,n){var a=$("<form></form>");a.attr("method","POST"),a.attr("action",t),$.each(n,function(t,n){var e=$("<input></input>");e.attr("type","hidden"),e.attr("name",t),e.attr("value",n),a.append(e)}),$(document.body).append(a),a.submit()},o=function(){$(n.deleteButtons).on("click",function(t){t.preventDefault(),l($(this))}),$(n.formSubmitters).on("click",function(){var t=$(this).data("submits");null!=$(this).data("publishes")&&$(t).find('input[name="status"]').val(1),$(t).submit()}),$(n.sidebarToggle).on("click",c),$(".collapse",n.sidebar).on("show.bs.collapse",function(){$(this).siblings("a.nav-link").find(".nav-dropdown-indicator").addClass("active"),$(".collapse",n.sidebar).not(this).collapse("hide")}).on("hide.bs.collapse",function(){$(this).siblings("a.nav-link").find(".nav-dropdown-indicator").removeClass("active")}),$(".nav-item > a.nav-link",n.sidebar).on("click",function(){var t=$(this).closest(".nav-item"),a=t.closest(".nav-item-group");$(".nav-item, .nav-item-group",n.sidebar).removeClass("active"),0==a.length&&$(".collapse",n.sidebar).collapse("hide"),t.addClass("active"),a.addClass("active")}),$(".nav-tabs a",".nav-pills a").on("click",function(t){history.pushState(null,null,$(this).attr("href"))}),$(window).on("popstate",function(){s()}),$(window).on("beforeunload",function(){$("body").addClass("unloading")})},s=function(){var t=$('a[href="'+window.location.hash+'"]');if(t.length)t.tab("show");else if(Soda.queryString.tab)$('a[href="#tab_'+Soda.queryString.tab+'"]').tab("show");else{var n=$(".nav-tabs");n.length||(n=$(".nav-pills")),n.length&&$("a:first",n).tab("show")}},r=function(){t===!1&&(t=!0,$.ajaxSetup({headers:{"X-CSRF-TOKEN":e()}}),$("body").addClass("loaded"),$(".soda-wrapper, .main-content").css("min-height",$(window).height()-$(".content-navbar").outerHeight(!0)),s(),o())},l=function(t,n){var a=t.attr("href"),o=$.extend({},{_token:e(),_method:"DELETE"},n);swal({title:"Are you sure?",text:"This action can not be reversed!",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(){a?i(a,o):t.closest("form").submit()})},d=function(t){$.ajax({url:Soda.urls.sort,type:"POST",data:t,success:function(t){t.errors&&a(t.errors)},error:function(){a("Something went wrong!")}})},c=function(t){t.preventDefault();var a=$(n.sidebar).hasClass("in");$(this).attr("aria-expanded",!a),$(n.sidebar).toggleClass("in"),$("body").toggleClass("sidebar-in").addClass("sidebar-transitioning"),setTimeout(function(){$("body").removeClass("sidebar-transitioning")},250)};return{initialize:r,confirmDelete:l,changePosition:d,toggleSidebar:c}}();$(function(){Soda.initialize()});