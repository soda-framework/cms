!function(e){var t={tree:"#page-tree",row:".tree-row",toleranceElement:"> .tree-item",handle:"> .tree-item > .handle",minify:".minify"},a={branchClass:"has-sub-items",collapsedClass:"collapsed",disableNestingClass:!1,errorClass:!1,expandedClass:"expanded",hoveringClass:!1,placeholder:"tree-item hovering",leafClass:!1,disabledClass:!1},n=function(){var e=$.extend({},{handle:t.handle,items:"li",listType:"ul",toleranceElement:"> .tree-item",isTree:!0,protectRoot:!0,startCollapsed:!0,expandOnHover:300,tabSize:75,relocate:function(e,t){s(t.item)}},a);$(t.tree).nestedSortable(e),$(t.minify).on("click",function(e){e.preventDefault(),$(this).closest(t.row).toggleClass(a.collapsedClass).toggleClass(a.expandedClass)})},s=function(a){var n=a.data("id"),s=a.parent().closest(t.row),i=s.data("id");if("undefined"!=typeof i){var o=a.prev(),l=a.next(),r={entityName:"pages",id:n};o.length>0?(r.type="moveAfter",r.positionEntityId=o.data("id"),e.changePosition(r)):l.length>0?(r.type="moveBefore",r.positionEntityId=l.data("id"),e.changePosition(r)):(r.type="moveInto",r.positionEntityId=i,e.changePosition(r)),a.data("parent-id")}};return $(function(){n()}),e.pageTree={elements:t,classes:a},e}(Soda||{});